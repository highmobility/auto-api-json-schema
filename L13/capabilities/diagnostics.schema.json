{
    "$id": "https://highmobility.github.io/auto-api-json-schema/L13/capabilities/diagnostics.schema.json",
    "$schema": "https://json-schema.org/draft-07/schema",
    "type": "object",
    "properties": {
        "mileage": {
            "$ref": "#/$defs/property_length",
            "deprecated": true
        },
        "engine_oil_temperature": { "$ref": "#/$defs/property_temperature" },
        "speed": { "$ref": "#/$defs/property_speed" },
        "engine_rpm": { "$ref": "#/$defs/property_angular_velocity" },
        "fuel_level": { "$ref": "#/$defs/property_percentage" },
        "estimated_range": { "$ref": "#/$defs/property_length" },
        "washer_fluid_level": { "$ref": "#/$defs/property_fluid_level" },
        "battery_voltage": { "$ref": "#/$defs/property_electric_potential_difference" },
        "adblue_level": { "$ref": "#/$defs/property_percentage" },
        "distance_since_reset": { "$ref": "#/$defs/property_length" },
        "distance_since_start": { "$ref": "#/$defs/property_length" },
        "fuel_volume": { "$ref": "#/$defs/property_volume" },
        "anti_lock_braking": { "$ref": "#/$defs/property_active_state" },
        "engine_coolant_temperature": { "$ref": "#/$defs/property_temperature" },
        "engine_total_operating_hours": {
            "$ref": "#/$defs/property_duration",
            "deprecated": true
        },
        "engine_total_fuel_consumption": { "$ref": "#/$defs/property_volume" },
        "brake_fluid_level": { "$ref": "#/$defs/property_fluid_level" },
        "engine_torque": { "$ref": "#/$defs/property_percentage" },
        "engine_load": { "$ref": "#/$defs/property_percentage" },
        "wheel_based_speed": { "$ref": "#/$defs/property_speed" },
        "battery_level": { "$ref": "#/$defs/property_percentage" },
        "check_control_messages": { "$ref": "#/$defs/property_check_control_message" },
        "tire_pressures": { "$ref": "#/$defs/property_tire_pressure" },
        "tire_temperatures": { "$ref": "#/$defs/property_tire_temperature" },
        "wheel_rpms": { "$ref": "#/$defs/property_wheel_rpm" },
        "trouble_codes": { "$ref": "#/$defs/property_trouble_code" },
        "mileage_meters": {
            "$ref": "#/$defs/property_length",
            "deprecated": true
        },
        "odometer": { "$ref": "#/$defs/property_length" },
        "engine_total_operating_time": { "$ref": "#/$defs/property_duration" },
        "tire_pressure_statuses": { "$ref": "#/$defs/property_tire_pressure_status" },
        "brake_lining_wear_pre_warning": { "$ref": "#/$defs/property_active_state" },
        "engine_oil_life_remaining": { "$ref": "#/$defs/property_percentage" },
        "oem_trouble_code_values": { "$ref": "#/$defs/property_oem_trouble_code_value" },
        "diesel_exhaust_fluid_range": { "$ref": "#/$defs/property_length" },
        "diesel_particulate_filter_soot_level": { "$ref": "#/$defs/property_percentage" },
        "confirmed_trouble_codes": { "$ref": "#/$defs/property_confirmed_trouble_code" },
        "diesel_exhaust_filter_status": { "$ref": "#/$defs/property_diesel_exhaust_filter_status" },
        "engine_total_idle_operating_time": { "$ref": "#/$defs/property_duration" },
        "engine_oil_amount": { "$ref": "#/$defs/property_volume" },
        "engine_oil_level": { "$ref": "#/$defs/property_percentage" },
        "estimated_secondary_powertrain_range": { "$ref": "#/$defs/property_length" },
        "fuel_level_accuracy": { "$ref": "#/$defs/property_fuel_level_accuracy" },
        "tire_pressures_targets": { "$ref": "#/$defs/property_tire_pressure" },
        "tire_pressures_differences": { "$ref": "#/$defs/property_tire_pressure" },
        "backup_battery_remaining_time": { "$ref": "#/$defs/property_duration" },
        "engine_coolant_fluid_level": { "$ref": "#/$defs/property_fluid_level" },
        "engine_oil_fluid_level": { "$ref": "#/$defs/property_fluid_level" },
        "engine_oil_pressure_level": { "$ref": "#/$defs/property_engine_oil_pressure_level" },
        "engine_time_to_next_service": { "$ref": "#/$defs/property_duration" },
        "low_voltage_battery_charge_level": { "$ref": "#/$defs/property_low_voltage_battery_charge_level" },

        "nonce": { "$ref": "#/$defs/property_nonce" },
        "vin": { "$ref": "#/$defs/property_vin" }
    },
    "additionalProperties": false,


    "$defs": {
        "property_active_state": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/active_state"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_angular_velocity": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/units.schema.json#/$defs/angular_velocity"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_check_control_message": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/check_control_message"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_confirmed_trouble_code": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/confirmed_trouble_code"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_diesel_exhaust_filter_status": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/diesel_exhaust_filter_status"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_duration": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/units.schema.json#/$defs/duration"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_electric_potential_difference": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/units.schema.json#/$defs/electric_potential_difference"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_engine_oil_pressure_level": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "string",
                    "enum": ["low", "normal", "high", "low_soft", "low_hard", "no_sensor", "system_fault"]
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_fluid_level": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/fluid_level"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_fuel_level_accuracy": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "string",
                    "enum": ["measured", "calculated"]
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_length": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/units.schema.json#/$defs/length"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_low_voltage_battery_charge_level": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "string",
                    "enum": ["ok", "deactivation_level_1", "deactivation_level_2", "deactivation_level_3"]
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_nonce": {
            "$ref": "#/$defs/property",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 255
                    },
                    "minItems": 9,
                    "maxItems": 9
                }
            }
        },

        "property_oem_trouble_code_value": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/oem_trouble_code_value"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_percentage": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/percentage"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_speed": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/units.schema.json#/$defs/speed"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_temperature": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/units.schema.json#/$defs/temperature"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_tire_pressure": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/tire_pressure"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_tire_pressure_status": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/tire_pressure_status"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_tire_temperature": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/tire_temperature"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_trouble_code": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/trouble_code"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_vin": {
            "$ref": "#/$defs/property",
            "properties": {
                "data": {
                    "type": "string",
                    "minLength": 17,
                    "maxLength": 17
                }
            }
        },

        "property_volume": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/units.schema.json#/$defs/volume"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        },

        "property_wheel_rpm": {
            "type": "object",
            "properties": {
                "data": {
                    "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/wheel_rpm"
                }
                "timestamp": {
                    "type": "string",
                    "format": "date-time"
                },
                "failure": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/failure" },
                "availability": { "$ref": "/auto-api-json-schema/L13/misc/custom_types.schema.json#/$defs/availability" }
            },
            "minProperties": 1,
            "additionalProperties": false
        }
    }
}
